<Window
    x:Class="WC.WarningChartWPF.WarningChartSettings"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:WC.WarningChartWPF"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    Title="Settings"
    Width="450"
    Height="380"
    AllowsTransparency="True"
    Background="Transparent"
    ContentRendered="Window_ContentRendered"
    ResizeMode="NoResize"
    WindowStartupLocation="CenterScreen"
    WindowStyle="None"
    mc:Ignorable="d">
    <Border
        Background="White"
        BorderBrush="#E0E0E0"
        BorderThickness="1"
        CornerRadius="8"
        MouseDown="Border_MouseDown">
        <Border.Effect>
            <DropShadowEffect
                BlurRadius="15"
                Opacity="0.15"
                ShadowDepth="3"
                Color="Black" />
        </Border.Effect>

        <Grid Margin="20">
            <Grid.Resources>
                <!--  Shared Color Button Style  -->
                <Style x:Key="ColorButtonStyle" TargetType="Button">
                    <Setter Property="Width" Value="42" />
                    <Setter Property="Height" Value="32" />
                    <Setter Property="BorderThickness" Value="1" />
                    <Setter Property="BorderBrush" Value="#CCC" />
                    <Setter Property="Template">
                        <Setter.Value>
                            <ControlTemplate TargetType="Button">
                                <Border
                                    Background="{TemplateBinding Background}"
                                    BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="{TemplateBinding BorderThickness}"
                                    CornerRadius="2" />
                                <ControlTemplate.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="BorderBrush" Value="#999" />
                                        <Setter Property="BorderThickness" Value="2" />
                                    </Trigger>
                                </ControlTemplate.Triggers>
                            </ControlTemplate>
                        </Setter.Value>
                    </Setter>
                </Style>
            </Grid.Resources>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>

            <!--  Title  -->
            <TextBlock
                Grid.Row="0"
                Margin="0,0,0,25"
                FontSize="20"
                FontWeight="SemiBold"
                Foreground="#333"
                Text="Chart Settings" />

            <!--  Warning Number Setting  -->
            <StackPanel Grid.Row="1" Margin="0,0,0,20">
                <TextBlock
                    Margin="0,0,0,8"
                    FontSize="14"
                    FontWeight="Medium"
                    Foreground="#555"
                    Text="Maximum Warning Count" />
                <TextBox
                    Name="txtAnswer"
                    Height="36"
                    Padding="6,4"
                    Background="White"
                    BorderBrush="#DDD"
                    BorderThickness="1"
                    FontSize="13"
                    PreviewTextInput="txtAnswer_PreviewTextInput">
                    <TextBox.Style>
                        <Style TargetType="TextBox">
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="TextBox">
                                        <Border
                                            Padding="{TemplateBinding Padding}"
                                            Background="{TemplateBinding Background}"
                                            BorderBrush="{TemplateBinding BorderBrush}"
                                            BorderThickness="{TemplateBinding BorderThickness}"
                                            CornerRadius="6">
                                            <ScrollViewer x:Name="PART_ContentHost" VerticalAlignment="Center" />
                                        </Border>
                                        <ControlTemplate.Triggers>
                                            <Trigger Property="IsFocused" Value="True">
                                                <Setter Property="BorderBrush" Value="#007ACC" />
                                                <Setter Property="BorderThickness" Value="2" />
                                            </Trigger>
                                        </ControlTemplate.Triggers>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </TextBox.Style>
                </TextBox>
            </StackPanel>

            <!--  Color Scheme Section  -->
            <Rectangle
                Grid.Row="2"
                Height="1"
                Margin="0,0,0,20"
                Fill="#F0F0F0" />

            <StackPanel Grid.Row="3" Margin="0,0,0,15">
                <TextBlock
                    Margin="0,0,0,5"
                    FontSize="14"
                    FontWeight="Medium"
                    Foreground="#555"
                    Text="Pie Chart Color Scheme" />
                <TextBlock
                    Margin="0,0,0,12"
                    FontSize="12"
                    Foreground="#777"
                    Text="Colors used for different warning types (click to change)" />
            </StackPanel>

            <DockPanel Grid.Row="4" Margin="0,0,0,20">
                <Button
                    Name="colorButton1"
                    Margin="0,0,10,0"
                    Click="ColorButton_Click"
                    Style="{StaticResource ColorButtonStyle}"
                    Tag="0"
                    ToolTip="Color for warning type 1" />
                <Button
                    Name="colorButton2"
                    Margin="0,0,10,0"
                    Click="ColorButton_Click"
                    Style="{StaticResource ColorButtonStyle}"
                    Tag="1"
                    ToolTip="Color for warning type 2" />
                <Button
                    Name="colorButton3"
                    Margin="0,0,10,0"
                    Click="ColorButton_Click"
                    Style="{StaticResource ColorButtonStyle}"
                    Tag="2"
                    ToolTip="Color for warning type 3" />
                <Button
                    Name="colorButton4"
                    Margin="0,0,10,0"
                    Click="ColorButton_Click"
                    Style="{StaticResource ColorButtonStyle}"
                    Tag="3"
                    ToolTip="Color for warning type 4" />
                <Button
                    Name="colorButton5"
                    Margin="0,0,15,0"
                    Click="ColorButton_Click"
                    Style="{StaticResource ColorButtonStyle}"
                    Tag="4"
                    ToolTip="Color for warning type 5" />

                <Button
                    Name="btnResetColors"
                    Height="35"
                    Padding="15,0"
                    Background="#F8F8F8"
                    BorderBrush="#DDD"
                    BorderThickness="1"
                    Click="btnResetColors_Click"
                    Content="Reset to Default"
                    DockPanel.Dock="Right"
                    Foreground="#666"
                    ToolTip="Reset to default color scheme">
                    <Button.Style>
                        <Style TargetType="Button">
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="Button">
                                        <Border
                                            x:Name="BorderElement"
                                            Padding="{TemplateBinding Padding}"
                                            Background="{TemplateBinding Background}"
                                            BorderBrush="{TemplateBinding BorderBrush}"
                                            BorderThickness="{TemplateBinding BorderThickness}"
                                            CornerRadius="6">
                                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                                        </Border>
                                        <ControlTemplate.Triggers>
                                            <Trigger Property="IsMouseOver" Value="True">
                                                <Setter TargetName="BorderElement" Property="Background" Value="#F0F0F0" />
                                                <Setter TargetName="BorderElement" Property="BorderBrush" Value="#BBB" />
                                            </Trigger>
                                        </ControlTemplate.Triggers>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </Button.Style>
                </Button>
            </DockPanel>

            <!--  Dialog Buttons  -->
            <StackPanel
                Grid.Row="6"
                Margin="0,25,0,0"
                HorizontalAlignment="Right"
                Orientation="Horizontal">
                <Button
                    Name="btnDialogOk"
                    Height="36"
                    MinWidth="110"
                    Margin="0,0,10,0"
                    Background="#007ACC"
                    BorderThickness="0"
                    Click="btnDialogOk_Click"
                    Content="Save Changes"
                    FontWeight="Medium"
                    Foreground="White"
                    IsDefault="True">
                    <Button.Style>
                        <Style TargetType="Button">
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="Button">
                                        <Border
                                            x:Name="BorderElement"
                                            Padding="20,8"
                                            Background="{TemplateBinding Background}"
                                            CornerRadius="6">
                                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                                        </Border>
                                        <ControlTemplate.Triggers>
                                            <Trigger Property="IsMouseOver" Value="True">
                                                <Setter TargetName="BorderElement" Property="Background" Value="#005A9E" />
                                            </Trigger>
                                        </ControlTemplate.Triggers>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </Button.Style>
                </Button>

                <Button
                    Height="36"
                    MinWidth="110"
                    Background="#F5F5F5"
                    BorderBrush="#CCC"
                    BorderThickness="1"
                    Content="Cancel"
                    Foreground="#555"
                    IsCancel="True">
                    <Button.Style>
                        <Style TargetType="Button">
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="Button">
                                        <Border
                                            x:Name="BorderElement"
                                            Padding="20,8"
                                            Background="{TemplateBinding Background}"
                                            BorderBrush="{TemplateBinding BorderBrush}"
                                            BorderThickness="{TemplateBinding BorderThickness}"
                                            CornerRadius="6">
                                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                                        </Border>
                                        <ControlTemplate.Triggers>
                                            <Trigger Property="IsMouseOver" Value="True">
                                                <Setter TargetName="BorderElement" Property="Background" Value="#E8E8E8" />
                                                <Setter TargetName="BorderElement" Property="BorderBrush" Value="#AAA" />
                                            </Trigger>
                                        </ControlTemplate.Triggers>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </Button.Style>
                </Button>
            </StackPanel>
        </Grid>
    </Border>
</Window>